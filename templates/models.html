{% extends "base.html" %}
{% block title %}AI-WebForge 路 Models{% endblock %}
{% block content %}
<section class="page">
    <header class="page__header">
        <div>
            <h1>Model lab</h1>
            <p class="muted">Upload and manage local model artifacts to extend the builder.</p>
        </div>
        <form id="model-upload-form" class="upload" enctype="multipart/form-data">
            <label class="upload__label">
                <input type="file" name="file" accept=".pt,.onnx,.gguf,.safetensors" required>
                <span>Select file</span>
            </label>
            <button type="submit" class="primary-button">Upload</button>
        </form>
    </header>
    <div class="model-grid" id="model-grid" data-active="{{ active_model }}">
        {% for model in models %}
            <article class="model-card" data-model="{{ model.name }}">
                <header>
                    <h2>{{ model.name }}</h2>
                    {% if model.name == active_model %}<span class="badge">Active</span>{% endif %}
                </header>
                <p class="muted">{{ model.type|upper }} 路 {{ model.size }}</p>
                <p class="muted">SHA256 路 {{ model.hash }}</p>
                {% if model.parameters %}<p class="muted">Parameters 路 {{ model.parameters }}</p>{% endif %}
                {% if model.uploaded_at %}<p class="muted">Uploaded {{ model.uploaded_at }}</p>{% endif %}
                <footer class="model-card__actions">
                    <button class="ghost-button" data-action="activate" data-model="{{ model.name }}">Use model</button>
                    <button class="ghost-button ghost-button--danger" data-action="delete-model" data-model="{{ model.name }}">Delete</button>
                </footer>
            </article>
        {% else %}
            <div class="empty-state">No models uploaded yet. Add one to experiment with local intelligence.</div>
        {% endfor %}
    </div>
</section>
{% endblock %}
{% block scripts %}
<script>window.WEBFORGE_CONTEXT = {page: "models"};</script>
{% endblock %}
